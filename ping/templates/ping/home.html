{% load static tailwind_tags %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game List</title>
    {% tailwind_css %}
</head>
<body>
    <h1>Select a Game</h1>
    <select id="game-select" onchange="redirectToGamePage()">
        <option value="">-- Select a Game --</option>
        <option value="rainbow-six-siege">Rainbow Six Siege</option>
        <option value="csgo">CSGO</option>
        <option value="browser">Browser</option>
    </select>

    <script>
        // Reset the dropdown to the default option (Select a Game) when the page loads
        window.onload = function() {
            const gameSelect = document.getElementById('game-select');
            gameSelect.value = "";  // This ensures that the default option is selected
        };
        
        // Reset dropdown when navigating back in browser
        window.onpageshow = function(event) {
            if (event.persisted) { // Check if the page was loaded from the cache (back button)
                const gameSelect = document.getElementById('game-select');
                gameSelect.value = "";  // Reset to default option
            }
        };

        function redirectToGamePage() {
            const dropdown = document.getElementById('game-select');
            const selectedGame = dropdown.value;
            if (selectedGame) {
                window.location.href = `/${selectedGame}`;
            }
        }
    </script>
    <h1>This is a Test</h1>
    <div class="card card-compact bg-base-100 w-96 shadow-xl">
        <figure>
          <img
            src="https://img.daisyui.com/images/stock/photo-1606107557195-0e29a4b5b4aa.webp"
            alt="Shoes" />
        </figure>
        <div class="card-body">
          <h2 class="card-title">Shoes!</h2>
          <p>If a dog chews shoes whose shoes does he choose?</p>
          <div class="card-actions justify-end">
            <button class="btn btn-primary">Buy Now</button>
          </div>
        </div>
      </div>        
</body>
</html>